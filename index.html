<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <title>Открытка для тебя!</title>
</head>
<body>
  <div class="sky" aria-hidden="true">
    <div class="day"></div>
    <div class="night"></div>
    <div class="stars"></div>
  </div>
    <main>
        <header>
            <h1>ПЕРСОНАЛЬНАЯ ОТКРЫТКА...
              <div class="circles">
                <div class="circle c1"></div>
                <div class="circle c2"></div>
                <div class="circle c3"></div>
                <div class="circle c4"></div>
                <div class="circle c5"></div>
                <div class="circle c6"></div>

                <div class="circle c7"></div>
                <div class="circle c8"></div>
                <div class="circle c9"></div>
                <div class="circle c10"></div>
                <div class="circle c11"></div>
                <div class="circle c12"></div>
                <div class="circle c13"></div>
                <div class="circle c14"></div>
                <div class="circle c15"></div>
                <div class="circle c16"></div>
                <div class="circle c17"></div>
                <div class="circle c18"></div>
                <div class="circle c19"></div>
                <div class="circle c20"></div>
              </div>
            </h1>
        </header>

        <section class="balls">
            <img src="assets/summer/balls.png" class="ball_pos_1 rotate_right" alt="воздушный шарик">
            <img src="assets/summer/balls.png" class="ball_pos_2 rotate_left" alt="воздушный шарик">
            <img src="assets/summer/balls.png" class="ball_pos_3 rotate_left" alt="воздушный шарик">
            <img src="assets/summer/balls.png" class="ball_pos_4 rotate_right" alt="воздушный шарик">
            <img src="assets/summer/balls.png" class="ball_pos_5 rotate_left" alt="воздушный шарик">
        </section>

        <section class="block_plus_text">
            <h2>...для самой лучшей девочки со всего ДОКа!</h2>
        </section>

        

        <section class="line-container">



            <svg id="roadSVG" class="road" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 342.18 751.34">
              <defs>
                <style>.cls-1,.cls-2,.cls-3,.cls-4{fill:none;stroke-miterlimit:10;}.cls-1,.cls-3{stroke:#435b6b;}.cls-1{stroke-width:28px;}.cls-2{stroke:#ffd15d;stroke-width:23px;}.cls-3{stroke-width:20px;}.cls-4{stroke:#c6c6c6;stroke-width:2px;stroke-dasharray:12;}</style>
              </defs>
              <path class="cls-1" d="M152,30.6C101,31,65.35,57.8,63.5,84.16c-1.48,21,18.28,43.56,39.77,52.68,37.11,15.76,63.2-15.42,98.35,2,16.1,8,31,24.63,32.91,43.9,2.35,23.84-15.47,49-37.24,59.05-39.63,18.35-70.71-23.21-117-5.2-2.68,1-35.31,14.27-41.81,42.84-5.33,23.46,8.4,50.9,27.87,65.55,41.67,31.34,129.56.17,181.82,3.33,24.76,1.49,68.47,4.13,89,32.51,17.29,23.87,16.64,58.84-12,78.58C304.33,473.8,286,474,187.63,474c-57.86,0-75.35,6.5-92.38,13.16C71.9,496.33,46.09,516.46,38,546c-5.73,20.84-5.63,50.57,11.61,70.45C60.4,629,108.42,652,175.76,614.16c41.57-23.34,82.07-47.12,118.84-36.77,47.62,13.4,56.86,68.17,44.91,95.32-20.9,47.51-98.33,87.07-155.61,80.52" transform="translate(-20.56 -16.6)"/>
              <path class="cls-2" d="M152,30.6C101,31,65.35,57.8,63.5,84.16c-1.48,21,18.28,43.56,39.77,52.68,37.11,15.76,63.2-15.42,98.35,2,16.1,8,31,24.63,32.91,43.9,2.35,23.84-15.47,49-37.24,59.05-39.63,18.35-70.71-23.21-117-5.2-2.68,1-35.31,14.27-41.81,42.84-5.33,23.46,8.4,50.9,27.87,65.55,41.67,31.34,129.56.17,181.82,3.33,24.76,1.49,68.47,4.13,89,32.51,17.29,23.87,16.64,58.84-12,78.58C304.33,473.8,286,474,187.63,474c-57.86,0-75.35,6.5-92.38,13.16C71.9,496.33,46.09,516.46,38,546c-5.73,20.84-5.63,50.57,11.61,70.45C60.4,629,108.42,652,175.76,614.16c41.57-23.34,82.07-47.12,118.84-36.77,47.62,13.4,56.86,68.17,44.91,95.32-20.9,47.51-98.33,87.07-155.61,80.52" transform="translate(-20.56 -16.6)"/>
              <path class="cls-3" d="M152,30.6C101,31,65.35,57.8,63.5,84.16c-1.48,21,18.28,43.56,39.77,52.68,37.11,15.76,63.2-15.42,98.35,2,16.1,8,31,24.63,32.91,43.9,2.35,23.84-15.47,49-37.24,59.05-39.63,18.35-70.71-23.21-117-5.2-2.68,1-35.31,14.27-41.81,42.84-5.33,23.46,8.4,50.9,27.87,65.55,41.67,31.34,129.56.17,181.82,3.33,24.76,1.49,68.47,4.13,89,32.51,17.29,23.87,16.64,58.84-12,78.58C304.33,473.8,286,474,187.63,474c-57.86,0-75.35,6.5-92.38,13.16C71.9,496.33,46.09,516.46,38,546c-5.73,20.84-5.63,50.57,11.61,70.45C60.4,629,108.42,652,175.76,614.16c41.57-23.34,82.07-47.12,118.84-36.77,47.62,13.4,56.86,68.17,44.91,95.32-20.9,47.51-98.33,87.07-155.61,80.52" transform="translate(-20.56 -16.6)"/>
              <path class="cls-4" d="M152,30.6C101,31,65.35,57.8,63.5,84.16c-1.48,21,18.28,43.56,39.77,52.68,37.11,15.76,63.2-15.42,98.35,2,16.1,8,31,24.63,32.91,43.9,2.35,23.84-15.47,49-37.24,59.05-39.63,18.35-70.71-23.21-117-5.2-2.68,1-35.31,14.27-41.81,42.84-5.33,23.46,8.4,50.9,27.87,65.55,41.67,31.34,129.56.17,181.82,3.33,24.76,1.49,68.47,4.13,89,32.51,17.29,23.87,16.64,58.84-12,78.58C304.33,473.8,286,474,187.63,474c-57.86,0-75.35,6.5-92.38,13.16C71.9,496.33,46.09,516.46,38,546c-5.73,20.84-5.63,50.57,11.61,70.45C60.4,629,108.42,652,175.76,614.16c41.57-23.34,82.07-47.12,118.84-36.77,47.62,13.4,56.86,68.17,44.91,95.32-20.9,47.51-98.33,87.07-155.61,80.52" transform="translate(-20.56 -16.6)"/>
            </svg>




            <img src="assets/summer/boy_and_girl.png" class="boy_and_girl" id="movingObject" alt="boy_and_girl">
            <img src="assets/summer/park.png" class="flag_start" alt="park_start">
            <img src="assets/summer/park-end.png" class="flag_end" alt="park_end">
            <p class="cute_text ct1">Пей малинку, чтобы не болеть
              <img class="png_small ps1" src="assets/summer/raspberry.png" alt="raspberry">
            </p>
            <p class="cute_text ct2">Не можешь жить без мороженного
              <img class="png_small ps2" src="assets/summer/ice_cream.png" alt="ice_cream">
            </p>
            <p class="cute_text ct3">У тебя самая красивая улыбка!
              <img class="png_small ps3" src="assets/summer/smile.png" alt="smile">
            </p>
            <p class="cute_text ct4">Это реально твой<br>цвет глаз?!?!?!
              <img class="png_small ps4" src="assets/summer/eyes.png" alt="eyes">
            </p>
            <p class="cute_text ct5">Твои рилсы просто огонь!
              <img class="png_small ps5" src="assets/summer/fire.png" alt="fire">
            </p>
            <p class="cute_text ct6">Предпочитаешь арбуз
              <img class="png_small ps6" src="assets/summer/watermelon.png" alt="watermelon">
            </p>
            <p class="cute_text ct7">Ты прекрасно владеешь английским.<br>Это прям разрыв мозга!
              <img class="png_small ps7" src="assets/summer/brain.png" alt="brain">
            </p>
            <p class="cute_text ct8">Лучшая Клубника, которую я знаю!
              <img class="png_small ps8" src="assets/summer/best_girl.png" alt="best_girl">
            </p>
            <p class="cute_text ct9">Я провожу тебя до лифта и обниму
              <img class="png_small ps9" src="assets/summer/hugs.png" alt="hugs">
            </p>
            <p class="cute_text ct10">Впечатления - наша валюта
              <img class="png_small ps10" src="assets/summer/money.png" alt="money">
            </p>
            <p class="cute_text ct11">Я расскажу тебе, какого я видел кота
              <img class="png_small ps11" src="assets/summer/cat.png" alt="cat">
            </p>
            <p class="cute_text ct12">Ждули
              <img class="png_small ps12" src="assets/summer/waiting.png" alt="waiting">
            </p>
        </section>

        <section class="block_card" id="card">
          <div class="card">
            <div class="front">
              <img src="assets/summer/city_cat4.png" class="card_photo_f" alt="город">
              <div class="click" id="click"></div>
            </div>
            
            <div class="back">
              <p class="text_card">
                Виктория, ты самый яркий лучик света, в этом сером мире!
                С тобой весело и приятно. Ты заряжаешь немысленной энергией.
                Мы очень круто проводим время вместе. Я очень рад нашему знакомству!
                Спасибо тебе за то, что ты есть!
              </p>
              <img src="assets/summer/back.png" class="back_btn" id="backClick" alt="back">
              <img src="assets/park.jpg" class="card_photo_b" alt="our_photo">
              <p class="text_photo">Фото на память)</p>
              
            </div>
          </div>
        </section>        
        <div class="trigger"></div>

        <footer>
            © 2025 by Многофункциональная открытка
        </footer>
    </main>

<script>
(() => {
  const root = document.documentElement;
  const target = document.querySelector('.trigger');
  if (!target) return;
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        document.body.classList.add('night-mode');
      } else {
        document.body.classList.remove('night-mode');
      }
    });
  }, {
    threshold: 0.1
  });

  observer.observe(target);
})();
</script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const svg = document.querySelector(".road").contentDocument || document.querySelector(".road");
    const movingObject = document.getElementById("movingObject");
    const pageWidth = window.innerWidth;
    const pageHeight = window.innerHeight;
    

    // ждём загрузки svg
    if (svg instanceof SVGSVGElement) {
        init(svg);
    } else {
        document.querySelector(".road").addEventListener("load", () => {
            init(document.querySelector(".road").contentDocument.querySelector("svg"));
        });
    }

    function init(svg) {
        const path = svg.querySelector("#roadPath");
        const pathLength = path.getTotalLength();

        window.addEventListener("scroll", () => {
            // прогресс скролла (0..1)
            const scrollTop = window.scrollY;
            const docHeight = document.body.scrollHeight - window.innerHeight;
            const scrollPercent = scrollTop / docHeight;
            // const maxPercent = 0.98;
            // if (scrollPercent > maxPercent) scrollPercent = maxPercent;

            // позиция вдоль пути
            const point = path.getPointAtLength(scrollPercent * pathLength);
            movingObject.style.top = point.y - 5 + "px";
            // movingObject.style.left = (point.x / pageWidth * 100) + 40 + "%";
            movingObject.style.left = point.x + 35 + "px";
        });
    }


    window.addEventListener("scroll", () => {
        const scrollPercent = window.scrollY / (document.body.scrollHeight - window.innerHeight);

        // резкие шаги
        const stepAngle = Math.sin(scrollPercent * 30 * Math.PI) * 25; // частота выше, амплитуда больше

        movingObject.style.transform = `translate(-50%, -50%) rotate(${stepAngle}deg)`;
    });
});
</script>



<script>
  const click = document.getElementById('click');
  const backClick = document.getElementById('backClick');
  const card = document.getElementById('card');
  const innerCard = card.querySelector('.card');

  click.addEventListener('click', () => {
    innerCard.classList.add('flipped');
  });

  backClick.addEventListener('click', () => {
    innerCard.classList.remove('flipped');
  });
</script>

</body>
</html>